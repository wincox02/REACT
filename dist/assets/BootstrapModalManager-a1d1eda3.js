import{o as J,s as p,i as S,u as h,a as Q,l as V,C as xe}from"./divWithClassName-ab280b7d.js";import{r as s,j as l,d as Ce}from"./index-68470780.js";var Me=Function.prototype.bind.call(Function.prototype.call,[].slice);function E(e,t){return Me(e.querySelectorAll(t))}const Oe="data-rr-ui-",we="rrUi";function ke(e){return`${Oe}${e}`}function tt(e){return`${we}${e}`}function Ae(){const e=s.useRef(!0),t=s.useRef(()=>e.current);return s.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ne(e){const t=s.useRef(null);return s.useEffect(()=>{t.current=e}),t.current}const Be=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",je=typeof document<"u",G=je||Be?s.useLayoutEffect:s.useEffect;function N(e){e===void 0&&(e=J());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function X(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Le(e){const t=s.useRef(e);return t.current=e,t}function Se(e){const t=Le(e);s.useEffect(()=>()=>t.current(),[])}function De(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Y=ke("modal-open");class Fe{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return De(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[r]:o.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(p(o,r)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(Y,""),p(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Y),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const D=Fe,Z=s.createContext(S?window:void 0);Z.Provider;function F(){return s.useContext(Z)}const B=(e,t)=>S?e==null?(t||J()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Ie(e,t){const n=F(),[r,o]=s.useState(()=>B(e,n==null?void 0:n.document));if(!r){const i=B(e);i&&o(i)}return s.useEffect(()=>{t&&r&&t(r)},[t,r]),s.useEffect(()=>{const i=B(e);i!==r&&o(i)},[e,r]),r}function We({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:o}){const i=s.useRef(null),d=s.useRef(t),f=h(n);s.useEffect(()=>{t?d.current=!0:f(i.current)},[t,f]);const g=Q(i,e.ref),u=s.cloneElement(e,{ref:g});return t?u:o||!d.current&&r?null:u}function Pe({in:e,onTransition:t}){const n=s.useRef(null),r=s.useRef(!0),o=h(t);return G(()=>{if(!n.current)return;let i=!1;return o({in:e,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[e,o]),G(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function _e({children:e,in:t,onExited:n,onEntered:r,transition:o}){const[i,d]=s.useState(!t);t&&i&&d(!1);const f=Pe({in:!!t,onTransition:u=>{const R=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(d(!0),n==null||n(u.element)))};Promise.resolve(o(u)).then(R,x=>{throw u.in||d(!0),x})}}),g=Q(f,e.ref);return i&&!t?null:s.cloneElement(e,{ref:g})}function q(e,t,n){return e?l.jsx(e,Object.assign({},n)):t?l.jsx(_e,Object.assign({},n,{transition:t})):l.jsx(We,Object.assign({},n))}function Ke(e){return e.code==="Escape"||e.keyCode===27}const He=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function $e(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}let j;function Ue(e){return j||(j=new D({ownerDocument:e==null?void 0:e.document})),j}function Ve(e){const t=F(),n=e||Ue(t),r=s.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:s.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:s.useCallback(o=>{r.current.backdrop=o},[])})}const ee=s.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:i,children:d,backdrop:f=!0,keyboard:g=!0,onBackdropClick:u,onEscapeKeyDown:R,transition:x,runTransition:te,backdropTransition:ne,runBackdropTransition:re,autoFocus:se=!0,enforceFocus:oe=!0,restoreFocus:ie=!0,restoreFocusOptions:ae,renderDialog:I,renderBackdrop:ce=a=>l.jsx("div",Object.assign({},a)),manager:ue,container:le,onShow:W,onHide:P=()=>{},onExit:de,onExited:_,onExiting:fe,onEnter:he,onEntering:ge,onEntered:me}=e,Ee=$e(e,He);const m=F(),b=Ie(le),c=Ve(ue),ve=Ae(),pe=Ne(n),[C,K]=s.useState(!n),y=s.useRef(null);s.useImperativeHandle(t,()=>c,[c]),S&&!pe&&n&&(y.current=N(m==null?void 0:m.document)),n&&C&&K(!1);const H=h(()=>{if(c.add(),w.current=V(document,"keydown",ye),O.current=V(document,"focus",()=>setTimeout(Re),!0),W&&W(),se){var a,U;const A=N((a=(U=c.dialog)==null?void 0:U.ownerDocument)!=null?a:m==null?void 0:m.document);c.dialog&&A&&!X(c.dialog,A)&&(y.current=A,c.dialog.focus())}}),M=h(()=>{if(c.remove(),w.current==null||w.current(),O.current==null||O.current(),ie){var a;(a=y.current)==null||a.focus==null||a.focus(ae),y.current=null}});s.useEffect(()=>{!n||!b||H()},[n,b,H]),s.useEffect(()=>{C&&M()},[C,M]),Se(()=>{M()});const Re=h(()=>{if(!oe||!ve()||!c.isTopModal())return;const a=N(m==null?void 0:m.document);c.dialog&&a&&!X(c.dialog,a)&&c.dialog.focus()}),be=h(a=>{a.target===a.currentTarget&&(u==null||u(a),f===!0&&P())}),ye=h(a=>{g&&Ke(a)&&c.isTopModal()&&(R==null||R(a),a.defaultPrevented||P())}),O=s.useRef(),w=s.useRef(),Te=(...a)=>{K(!0),_==null||_(...a)};if(!b)return null;const $=Object.assign({role:r,ref:c.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ee,{style:i,className:o,tabIndex:-1});let k=I?I($):l.jsx("div",Object.assign({},$,{children:s.cloneElement(d,{role:"document"})}));k=q(x,te,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:de,onExiting:fe,onExited:Te,onEnter:he,onEntering:ge,onEntered:me,children:k});let T=null;return f&&(T=ce({ref:c.setBackdropRef,onClick:be}),T=q(ne,re,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:T})),l.jsx(l.Fragment,{children:Ce.createPortal(l.jsxs(l.Fragment,{children:[T,k]}),b)})});ee.displayName="Modal";const nt=Object.assign(ee,{Manager:D}),Ge=s.createContext({onHide(){}}),Xe=Ge,Ye=s.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:o,...i},d)=>{const f=s.useContext(Xe),g=h(()=>{f==null||f.onHide(),r==null||r()});return l.jsxs("div",{ref:d,...i,children:[o,n&&l.jsx(xe,{"aria-label":e,variant:t,onClick:g})]})}),rt=Ye;function qe(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function ze(e,t){e.classList?e.classList.add(t):qe(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function z(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Je(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=z(e.className,t):e.setAttribute("class",z(e.className&&e.className.baseVal||"",t))}const v={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Qe extends D{adjustAndStore(t,n,r){const o=n.style[t];n.dataset[t]=o,p(n,{[t]:`${parseFloat(p(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],p(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(ze(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";E(n,v.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth)),E(n,v.STICKY_CONTENT).forEach(i=>this.adjustAndStore(o,i,-t.scrollBarWidth)),E(n,v.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(o,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Je(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";E(n,v.FIXED_CONTENT).forEach(i=>this.restore(r,i)),E(n,v.STICKY_CONTENT).forEach(i=>this.restore(o,i)),E(n,v.NAVBAR_TOGGLER).forEach(i=>this.restore(o,i))}}let L;function st(e){return L||(L=new Qe(e)),L}export{rt as A,nt as B,Xe as M,tt as a,Qe as b,Se as c,ke as d,st as g,E as q,G as u};
